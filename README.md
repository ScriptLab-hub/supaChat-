

````markdown

# ğŸ’¬ SupaChat+

![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)
![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-B73BFE?style=for-the-badge&logo=vite&logoColor=FFD62E)
![Framer Motion](https://img.shields.io/badge/Framer_Motion-0055FF?style=for-the-badge&logo=framer&logoColor=white)

**SupaChat+** is a modern, WhatsApp-style real-time chat application built with React, TypeScript, and Supabase.  
It allows users to register, log in, start conversations, and exchange messages instantly â€”  
delivering a sleek, fast, and fully responsive chat experience with real-time updates.


---

## ğŸ§  Workflow Diagram

Below is the full user interaction and real-time data flow between frontend and Supabase:

```mermaid
flowchart TD
    A[User Opens App] --> B{Authenticated?}
    B -- No --> C[Login / Register Page]
    C --> D[Supabase Auth (Signup/Login)]
    D --> E[Profile Created in Supabase]
    B -- Yes --> F[ChatList (Threads)]
    F --> G[Select Thread]
    G --> H[ChatWindow]
    H --> I[Send Message â†’ Supabase Realtime]
    I --> J[Message Inserted into DB]
    J --> K[Realtime Broadcast to All Clients]
    K --> L[UI Updates + Auto Scroll + Animation]
````

---

## âœ¨ Core Features

* ğŸ” **User Authentication** â€“ Secure login and registration powered by Supabase Auth.
* ğŸ’¬ **Realtime Messaging** â€“ Instant updates using Supabase Realtime channels.
* ğŸ§µ **Thread-based Conversations** â€“ Separate threads for each user pair (like WhatsApp).
* ğŸŒ— **Dark/Light Theme Toggle** â€“ Smooth theme switching for accessibility.
* âš¡ **Typing Indicator + Smooth Animations** â€“ Framer Motion adds micro-interactions.
* ğŸ“± **Responsive UI** â€“ Optimized for both desktop and mobile devices.
* â˜ï¸ **Serverless Architecture** â€“ No backend server needed; powered entirely by Supabase.
* ğŸ§° **Environment-based Configuration** â€“ Secure `.env.local` setup.
* ğŸš€ **Netlify/Vercel Ready** â€“ Seamless one-click deployment.

---

## ğŸ› ï¸ Tech Stack

| Technology             | Purpose                                               |
| ---------------------- | ----------------------------------------------------- |
| **Vite**               | Fast build tool and dev server for React              |
| **React + TypeScript** | Frontend framework and static typing                  |
| **Supabase**           | Backend-as-a-Service for Auth, Realtime, and Database |
| **PostgreSQL**         | Core relational database managed by Supabase          |
| **Tailwind CSS**       | Utility-first CSS framework for styling               |
| **Framer Motion**      | Animation library for transitions and UX polish       |
| **React Context API**  | Global state management for auth and chat logic       |
| **.env.local**         | Securely stores Supabase credentials                  |

---

## ğŸ§± System Architecture

```mermaid
graph TD
    subgraph "Client (React + Vite)"
        A[UI Components]
        B[AuthContext (State Management)]
    end
    subgraph "Supabase Services"
        C[Authentication]
        D[PostgreSQL Database]
        E[Realtime Listener]
    end
    A -- HTTPS/WSS --> C
    A --> D
    A --> E
    C --- D
    D --- E
```

### Component Hierarchy

```mermaid
graph TD
    App --> Auth
    App --> ChatList
    App --> ChatWindow
    App --> NewChatModal
    ChatWindow --> MessageBubble
```

---

## ğŸ—‚ï¸ Folder Structure

```
supachat+/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Auth.tsx
â”‚   â”œâ”€â”€ AuthContext.tsx
â”‚   â”œâ”€â”€ ChatList.tsx
â”‚   â”œâ”€â”€ ChatWindow.tsx
â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â””â”€â”€ NewChatModal.tsx
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabaseClient.ts
â”œâ”€â”€ App.tsx
â”œâ”€â”€ index.tsx
â”œâ”€â”€ index.css
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ package.json
â””â”€â”€ .env.local
```

---

## ğŸ§° Database Schema (Supabase)

```sql
-- Thread structure
CREATE TABLE public.threads (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_one UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  user_two UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Messages table
CREATE TABLE public.messages (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  thread_id BIGINT REFERENCES public.threads(id) ON DELETE CASCADE,
  sender_id UUID REFERENCES auth.users(id),
  content TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

> âš ï¸ **Security Note:**
> Always enable **Row Level Security (RLS)** in production to protect user data.

---

## ğŸ’¡ How It Works

1. **Authentication:**
   User signs up â†’ Supabase Auth creates user â†’ `AuthContext` stores the session.
2. **Thread Creation:**
   When a user starts a chat, a new `thread` is created linking both users.
3. **Messaging:**
   Sent messages are stored in `messages` with sender_id and thread_id.
4. **Realtime:**
   Supabase Realtime listens for inserts and broadcasts instantly.
5. **UI Update:**
   ChatWindow auto-scrolls to the latest message, animating each new bubble.
6.  **Sign Out (Logout) Functionality**:  
    Users can securely log out anytime.  
    The app uses `supabase.auth.signOut()` inside the global `AuthContext` to clear session data and reset state.  
    After sign-out, users are automatically redirected to the login screen to prevent unauthorized access.


---

## ğŸš€ Getting Started

1. **Clone Repo**

   ```bash
   git clone https://github.com/<your-username>/supachat-plus.git
   cd supachat+
   ```

2. **Install Dependencies**

   ```bash
   npm install
   ```

3. **Set Environment Variables**
   Create a `.env.local` file in the root:

   ```env
   VITE_SUPABASE_URL=https://yourproject.supabase.co
   VITE_SUPABASE_ANON_KEY=your-anon-key
   ```

4. **Run Development Server**

   ```bash
   npm run dev
   ```

   Access the app at `https://supachatsmit.netlify.app/`

5. **Deploy**
   Push to GitHub â†’ Connect to Netlify/Vercel â†’ Add environment variables in dashboard â†’ Deploy ğŸ‰

---

## ğŸ”’ Security Recommendations

* Store **Supabase keys** securely in `.env.local`
* Enable **RLS policies** on all user tables:

  ```sql
  CREATE POLICY "Users can view their own messages"
  ON public.messages FOR SELECT
  USING (
    thread_id IN (
      SELECT id FROM public.threads
      WHERE user_one = auth.uid() OR user_two = auth.uid()
    )
  );
  ```
* Disable anonymous signups for production apps.
* Verify HTTPS-only deployment.

---

## ğŸš« Common Mistakes to Avoid

* âŒ Missing `.env.local` â†’ "Missing Credentials" error.
* âŒ Not enabling Realtime â†’ messages wonâ€™t update live.
* âŒ Skipping RLS policies â†’ public data exposure.
* âŒ Using Tailwind CDN â†’ breaks mobile responsiveness.
* âŒ Forgetting to rebuild after changing `tailwind.config.js`.

---

## ğŸ—£ï¸ Viva / Interview Notes

ğŸ§­ **Architecture:** SPA using React + Supabase (no Express/Node backend).
âš™ï¸ **State Management:** React Context API for user + chat logic.
âš¡ **Realtime Messaging:** Supabase Realtime (Postgres + websockets).
ğŸ¨ **UX/UI:** WhatsApp-like layout using Tailwind + Framer Motion.
ğŸ” **Security:** RLS policies & env-based keys.
ğŸ“ˆ **Learning Outcome:** Integration of BaaS, Realtime communication, secure setup, and responsive frontend.

---

## ğŸ§­ Deployment Tips

âœ… Add environment variables in Netlify:
`VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`

âœ… Run build before deploy:

```bash
npm run build
```

âœ… Auto redeploy on push via Git integration.

---

## ğŸ Credits & License

Built by **Kamran (Hackathon Build 2025)** ğŸ’š
Powered by **React, Supabase, Tailwind, and Framer Motion**.
Licensed under the **MIT License**.

---

> *â€œSupaChat+ â€” Where Realtime Meets Simplicity.â€*

```

---

âœ… **Paste this directly** into your `README.md`  
âœ… Itâ€™s styled, sectioned, and Markdown-compliant for GitHub, Netlify Docs, or hackathon submissions  
âœ… Auto-renders Mermaid diagrams & badges beautifully  

Would you like me to include a **â€œTechnical Challenges & Solutionsâ€** section next (for interview prep + bonus marks)?
```
